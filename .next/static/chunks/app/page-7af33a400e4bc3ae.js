(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{7600:(e,i,t)=>{Promise.resolve().then(t.bind(t,9547))},9547:(e,i,t)=>{"use strict";t.r(i),t.d(i,{default:()=>s});var o=t(5155),r=t(2115);function s(){var e;let[i,t]=(0,r.useState)(""),[s,d]=(0,r.useState)(""),[n,a]=(0,r.useState)(""),[l,c]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[g,h]=(0,r.useState)(""),[b,x]=(0,r.useState)(1),[m,f]=(0,r.useState)(25),[y,v]=(0,r.useState)(!1),[j,S]=(0,r.useState)(null),[C,w]=(0,r.useState)(null),k=(0,r.useMemo)(()=>{let e=new URLSearchParams;return i.trim()&&e.set("q",i.trim()),s.trim()&&e.set("construction",s.trim()),n.trim()&&e.set("color",n.trim()),l.trim()&&e.set("material",l.trim()),u.trim()&&e.set("minPct",u.trim()),g.trim()&&e.set("maxPct",g.trim()),e.set("page",String(b)),e.set("pageSize",String(m)),e.toString()},[i,s,n,l,u,g,b,m]);async function z(){v(!0),w(null);try{let e=await fetch("/api/fabrics?".concat(k),{cache:"no-store"}),i=await e.json();if(!i.ok)throw Error(i.error||"API error");S(i)}catch(e){w((null==e?void 0:e.message)||String(e)),S(null)}finally{v(!1)}}return(0,r.useEffect)(()=>{z()},[]),(0,o.jsxs)("div",{style:{maxWidth:1200,margin:"0 auto",padding:20},children:[(0,o.jsx)("h1",{style:{fontSize:28,fontWeight:800,marginBottom:8},children:"FUZE Atlas"}),(0,o.jsx)("div",{style:{opacity:.75,marginBottom:18},children:"Search fabrics by construction, color, materials, and submission codes."}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1fr 0.7fr 0.7fr",gap:10,padding:14,border:"1px solid #e5e5e5",borderRadius:14,marginBottom:14},children:[(0,o.jsx)("input",{value:i,onChange:e=>t(e.target.value),placeholder:"Search anything: construction, color, polyester, code…",style:{padding:10,borderRadius:10,border:"1px solid #ddd"}}),(0,o.jsx)("input",{value:s,onChange:e=>d(e.target.value),placeholder:"Construction",style:{padding:10,borderRadius:10,border:"1px solid #ddd"}}),(0,o.jsx)("input",{value:n,onChange:e=>a(e.target.value),placeholder:"Color",style:{padding:10,borderRadius:10,border:"1px solid #ddd"}}),(0,o.jsx)("input",{value:l,onChange:e=>c(e.target.value),placeholder:"Material (e.g. Polyester)",style:{padding:10,borderRadius:10,border:"1px solid #ddd"}}),(0,o.jsx)("input",{value:u,onChange:e=>p(e.target.value),placeholder:"Min %",style:{padding:10,borderRadius:10,border:"1px solid #ddd"}}),(0,o.jsx)("input",{value:g,onChange:e=>h(e.target.value),placeholder:"Max %",style:{padding:10,borderRadius:10,border:"1px solid #ddd"}}),(0,o.jsxs)("div",{style:{gridColumn:"1 / -1",display:"flex",gap:10},children:[(0,o.jsx)("button",{onClick:function(){x(1),setTimeout(()=>z(),0)},style:{padding:"10px 14px",borderRadius:12,border:"1px solid #111",background:"#111",color:"white",fontWeight:700,cursor:"pointer"},children:"Search"}),(0,o.jsx)("button",{onClick:function(){t(""),d(""),a(""),c(""),p(""),h(""),x(1),setTimeout(()=>z(),0)},style:{padding:"10px 14px",borderRadius:12,border:"1px solid #ddd",background:"white",fontWeight:700,cursor:"pointer"},children:"Clear"}),(0,o.jsxs)("div",{style:{marginLeft:"auto",display:"flex",gap:10,alignItems:"center"},children:[(0,o.jsx)("label",{style:{fontSize:13,opacity:.8},children:"Page size"}),(0,o.jsxs)("select",{value:m,onChange:e=>f(Number(e.target.value)),style:{padding:"10px 12px",borderRadius:12,border:"1px solid #ddd"},children:[(0,o.jsx)("option",{value:10,children:"10"}),(0,o.jsx)("option",{value:25,children:"25"}),(0,o.jsx)("option",{value:50,children:"50"}),(0,o.jsx)("option",{value:100,children:"100"})]}),(0,o.jsx)("button",{onClick:()=>{x(1),setTimeout(()=>z(),0)},style:{padding:"10px 14px",borderRadius:12,border:"1px solid #ddd",background:"white",fontWeight:700,cursor:"pointer"},children:"Apply"})]})]})]}),(0,o.jsxs)("div",{style:{marginBottom:12,display:"flex",alignItems:"center",gap:12},children:[(0,o.jsx)("button",{onClick:function(){j&&(j.page<=1||(x(e=>e-1),setTimeout(()=>z(),0)))},disabled:!j||j.page<=1||y,style:{padding:"10px 14px",borderRadius:12,border:"1px solid #ddd",background:"white",fontWeight:700,cursor:"pointer",opacity:!j||j.page<=1||y?.5:1},children:"Prev"}),(0,o.jsx)("button",{onClick:function(){j&&(j.page>=j.pages||(x(e=>e+1),setTimeout(()=>z(),0)))},disabled:!j||j&&j.page>=j.pages||y,style:{padding:"10px 14px",borderRadius:12,border:"1px solid #ddd",background:"white",fontWeight:700,cursor:"pointer",opacity:!j||j&&j.page>=j.pages||y?.5:1},children:"Next"}),(0,o.jsx)("div",{style:{opacity:.75},children:y?"Loading…":C?"Error: ".concat(C):j?"Total ".concat(j.total," • Page ").concat(j.page,"/").concat(j.pages):""}),(0,o.jsx)("div",{style:{marginLeft:"auto",opacity:.65,fontSize:12},children:"Tip: Use “polyamide” or “nylon” — content normalization should catch both."})]}),(0,o.jsxs)("div",{style:{border:"1px solid #e5e5e5",borderRadius:14,overflow:"hidden"},children:[(0,o.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 0.8fr 0.8fr 0.6fr 2.4fr 1.6fr",gap:0,background:"#fafafa",borderBottom:"1px solid #e5e5e5",fontWeight:800,fontSize:13},children:["FUZE # / Codes","Construction","Color","GSM","Contents","Process"].map(e=>(0,o.jsx)("div",{style:{padding:12},children:e},e))}),(null==j||null==(e=j.rows)?void 0:e.length)?j.rows.map(e=>{var i,t,r,s,d,n,a,l,c,u,p,g,h;return(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 0.8fr 0.8fr 0.6fr 2.4fr 1.6fr",borderBottom:"1px solid #f0f0f0"},children:[(0,o.jsxs)("div",{style:{padding:12,fontSize:13},children:[(0,o.jsx)("div",{style:{fontWeight:800},children:(null==(i=e.submission)?void 0:i.fuzeFabricNumber)!==null&&(null==(t=e.submission)?void 0:t.fuzeFabricNumber)!==void 0?"FUZE ".concat(e.submission.fuzeFabricNumber):"—"}),(0,o.jsxs)("div",{style:{opacity:.8},children:[(null==(r=e.submission)?void 0:r.customerFabricCode)?"Cust: ".concat(e.submission.customerFabricCode):"",(null==(s=e.submission)?void 0:s.customerFabricCode)&&(null==(d=e.submission)?void 0:d.factoryFabricCode)?" • ":"",(null==(n=e.submission)?void 0:n.factoryFabricCode)?"Factory: ".concat(e.submission.factoryFabricCode):""]})]}),(0,o.jsx)("div",{style:{padding:12,fontSize:13},children:e.construction||"—"}),(0,o.jsx)("div",{style:{padding:12,fontSize:13},children:e.color||"—"}),(0,o.jsx)("div",{style:{padding:12,fontSize:13},children:(null==(h=e.weightGsm)?"":Number(h).toString())||"—"}),(0,o.jsx)("div",{style:{padding:12,fontSize:13},children:(null==(a=e.contents)?void 0:a.length)?(0,o.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:8},children:[e.contents.slice(0,6).map((e,i)=>{var t;return(0,o.jsxs)("span",{style:{border:"1px solid #ddd",borderRadius:999,padding:"6px 10px",fontSize:12,background:"white"},children:[e.material,null!==e.percent&&void 0!==e.percent?" ".concat(null==(t=e.percent)?"":"".concat(Number(t).toString(),"%")):""]},i)}),e.contents.length>6?(0,o.jsx)("span",{style:{opacity:.7},children:"…"}):null]}):"—"}),(0,o.jsxs)("div",{style:{padding:12,fontSize:13},children:[(0,o.jsx)("div",{style:{fontWeight:700},children:(null==(l=e.submission)?void 0:l.applicationMethod)||"—"}),(0,o.jsxs)("div",{style:{opacity:.8},children:[(null==(c=e.submission)?void 0:c.treatmentLocation)||"",(null==(u=e.submission)?void 0:u.treatmentLocation)&&(null==(p=e.submission)?void 0:p.applicationDate)?" • ":"",(null==(g=e.submission)?void 0:g.applicationDate)?new Date(e.submission.applicationDate).toLocaleDateString():""]})]})]},e.id)}):(0,o.jsx)("div",{style:{padding:16,opacity:.7},children:y?"Loading…":"No results. Try clearing filters or searching ‘polyester’."})]})]})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=7600)),_N_E=e.O()}]);